# ==================== PostgreSQL 连接配置 ====================
POSTGRES_DB=energy
POSTGRES_USER=admin
POSTGRES_PASSWORD=123456
PG_PORT=6432
PG_HOST=pgbouncer

# ==================== pgAdmin 配置 ====================
PGADMIN_DEFAULT_EMAIL=admin@example.com
PGADMIN_DEFAULT_PASSWORD=admin123
PGADMIN_PORT=5050

# ==================== EMQX/MQTT 配置 ====================
MQTT_HOST=emqx
MQTT_PORT=1883
MQTT_USERNAME=
MQTT_PASSWORD=
MQTT_TOPIC=$$share/ess-ingestor/devices/+/realtime
MQTT_QOS=1
EMQX_MQTT_TCP_PORT=1883
EMQX_WS_PORT=8083
EMQX_DASHBOARD_PORT=18083

# ==================== MQTT 历史数据主题 ====================
MQTT_HISTORY_TOPIC=$$share/ess-ingestor/devices/+/history

# ==================== FastAPI 数据库配置 ====================
DATABASE_URL=postgresql+asyncpg://admin:123456@pgbouncer:6432/energy
DEVICE_FRESH_SECS=60

# ==================== ingestor 批量参数 ====================
BATCH_SIZE=1000
BATCH_FLUSH_MS=1000
QUEUE_MAXSIZE=50000

# ==================== JWT 鉴权配置（新增）====================
# ⚠️ 生产环境必须修改为强密钥！
# 生成强密钥命令: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=your-super-secret-key-at-least-32-characters-long-change-in-production
ACCESS_TOKEN_EXPIRE_MINUTES=10080

# ==================== 固件管理配置（新增）====================
FIRMWARE_DIR=./firmware

# ==================== 数据清理配置（新增）====================
ALARM_HISTORY_RETENTION_DAYS=90
RPC_LOG_RETENTION_DAYS=30