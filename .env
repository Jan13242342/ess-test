# ---- PostgreSQL 连接配置（替换为新的环境变量）----
POSTGRES_DB=energy                  # 数据库名
POSTGRES_USER=admin                 # 数据库用户名
POSTGRES_PASSWORD=123456            # 数据库密码
PG_PORT=5432                        # 数据库端口
PG_HOST=postgres_db                 # 数据库主机（docker-compose 服务名）


# ---- pgAdmin 配置 ----
PGADMIN_DEFAULT_EMAIL=admin@example.com   # pgAdmin 登录邮箱
PGADMIN_DEFAULT_PASSWORD=admin123         # pgAdmin 登录密码
PGADMIN_PORT=5050                         # pgAdmin 端口

# ---- EMQX（Docker 暴露在本机）----
MQTT_HOST=emqx                           # MQTT 服务器主机（docker-compose 服务名）
MQTT_PORT=1883                           # MQTT 端口
MQTT_USERNAME=                           # MQTT 用户名（如有需要）
MQTT_PASSWORD=                           # MQTT 密码（如有需要）
MQTT_TOPIC=$$share/ess-ingestor/devices/+/realtime   # 实时数据共享订阅主题（$$share 转义为 $share）
MQTT_QOS=1                               # MQTT QoS 等级
EMQX_MQTT_TCP_PORT=1883                  # EMQX TCP 端口
EMQX_WS_PORT=8083                        # EMQX WebSocket 端口
EMQX_DASHBOARD_PORT=18083                # EMQX Dashboard 端口

# ---- FastAPI（本地跑用的数据库URL）----
DATABASE_URL=postgresql+asyncpg://admin:123456@localhost:5432/energy   # FastAPI 用的数据库连接串
FRESH_SECS=60                              # FastAPI 刷新间隔（秒）

# ---- ingestor 批量参数（可调）----
BATCH_SIZE=1000                            # 批量写入数据库的最大行数
BATCH_FLUSH_MS=1000                        # 批量写入最大等待时间（毫秒）
QUEUE_MAXSIZE=50000                        # 队列最大长度

# ---- MQTT 历史数据主题（新加）----
MQTT_HISTORY_TOPIC=$$share/ess-ingestor/devices/+/history   # 历史能量数据共享订阅主题（$$share 转义为 $share）




